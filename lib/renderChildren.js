"use strict";var React=require("react"),MenuItemCell=require("./MenuItemCell"),cloneElement=React.cloneElement,assign=require("object-assign");function emptyFn(){}module.exports=function(c,i){var w=i.itemProps?i.itemProps.index:-1,x=c.children,y=1,z=[];React.Children.map(x,function(D){var E=D.props;if(z.push(D),E&&E.isMenuItem){var F=React.Children.count(E.children);y=Math.max(y,F)}});var A=c.itemStyleProps,B=-1,C=z.map(function(D,E){var F=D.props,G={};F&&F.isMenuItem&&(B++,G.onMenuItemMouseOver=this.onMenuItemMouseOver,G.onMenuItemMouseOut=this.onMenuItemMouseOut);var H=React.Children.map(F.children,function(L){return L}),I=React.Children.count(H);for(I<y&&(H=H?[H]:[]);I<y;)I++,H.push(React.createElement(MenuItemCell,null));var J=F.onClick||emptyFn,K=cloneElement(D,assign({interactionStyles:c.interactionStyles,itemIndex:B,itemCount:z.length,key:E,index:E,expanded:w==E,children:H,expander:c.expander,applyDefaultTheme:c.applyDefaultTheme,theme:c.theme,themes:c.themes||this.constructor.themes,onExpanderClick:this.onMenuItemExpanderClick,onClick:function(L,M,N){J.apply(null,arguments),this.onMenuItemClick(L,M,N)}.bind(this)},G,{style:A.itemStyle,overStyle:A.itemOverStyle,activeStyle:A.itemActiveStyle,disabledStyle:A.itemDisabledStyle,expandedStyle:A.itemExpandedStyle,cellStyle:A.cellStyle}));return K},this);return C};